<ng-template #deliveryFormTemplate>
  <!-- Tabs Navigation -->
  <app-tabs
    [tabs]="tabs"
    [activeTabId]="activeTab"
    [stretch]="true"
    (tabChanged)="onTabChange($event)"
  ></app-tabs>

  <!-- Form Content -->
  <form [formGroup]="deliveryForm" class="delivery-form-content">
    <!-- Delivery Info Tab -->
    <div class="tab-panel" *ngIf="activeTab === 'delivery-info'">
      <div class="tab-header">
        <mat-icon>local_shipping</mat-icon>
        <h3>Delivery Information</h3>
      </div>

      <div class="form-grid">
        <!-- Delivery Type -->
        <div class="form-group">
          <label class="form-label">Delivery Type <span class="required">*</span></label>
          <app-input-dropdown
            [options]="deliveryTypeOptions"
            [config]="deliveryTypeDropdownConfig"
            (selectionChanged)="onDeliveryTypeChange($event)"
          ></app-input-dropdown>
        </div>

        <!-- Priority -->
        <div class="form-group">
          <label class="form-label">Priority <span class="required">*</span></label>
          <app-input-dropdown
            [options]="priorityOptions"
            [config]="priorityDropdownConfig"
            (selectionChanged)="onPriorityChange($event)"
          ></app-input-dropdown>
        </div>

        <!-- Delivery Date -->
        <div class="form-group">
          <app-input-text
            [config]="deliveryDateConfig"
            formControlName="deliveryDate"
          ></app-input-text>
        </div>

        <!-- Preferred Time -->
        <div class="form-group">
          <app-input-text
            [config]="preferredTimeConfig"
            formControlName="preferredTime"
          ></app-input-text>
        </div>

        <!-- Estimated Duration -->
        <div class="form-group full-width">
          <app-input-text
            [config]="estimatedDurationConfig"
            formControlName="estimatedDuration"
          ></app-input-text>
        </div>
      </div>
    </div>

    <!-- Customer Tab -->
    <div class="tab-panel" *ngIf="activeTab === 'customer'">
      <div class="tab-header">
        <mat-icon>location_on</mat-icon>
        <h3>Customer & Address Information</h3>
      </div>

      <div class="form-grid">
        <!-- Customer ID -->
        <div class="form-group">
          <label class="form-label">Customer <span class="required">*</span></label>
          <app-input-dropdown
            [options]="customerOptions"
            [config]="customerDropdownConfig"
            (selectionChanged)="onCustomerChange($event)"
          ></app-input-dropdown>
        </div>

        <!-- Customer Name -->
        <div class="form-group">
          <app-input-text
            [config]="customerNameConfig"
            formControlName="customerName"
          ></app-input-text>
        </div>

        <!-- Customer Phone -->
        <div class="form-group">
          <app-input-text
            [config]="customerPhoneConfig"
            formControlName="customerPhone"
          ></app-input-text>
        </div>

        <!-- Customer Email -->
        <div class="form-group">
          <app-input-text
            [config]="customerEmailConfig"
            formControlName="customerEmail"
          ></app-input-text>
        </div>

        <!-- Pickup Address -->
        <div class="form-group full-width">
          <app-input-text
            [config]="pickupAddressConfig"
            formControlName="pickupAddress"
          ></app-input-text>
        </div>

        <!-- Delivery Address -->
        <div class="form-group full-width">
          <app-input-text
            [config]="deliveryAddressConfig"
            formControlName="deliveryAddress"
          ></app-input-text>
        </div>

        <!-- Delivery Instructions -->
        <div class="form-group full-width">
          <app-input-text
            [config]="deliveryInstructionsConfig"
            formControlName="deliveryInstructions"
          ></app-input-text>
        </div>

        <!-- Contact Person -->
        <div class="form-group">
          <app-input-text
            [config]="contactPersonConfig"
            formControlName="contactPerson"
          ></app-input-text>
        </div>

        <!-- Contact Phone -->
        <div class="form-group">
          <app-input-text
            [config]="contactPhoneConfig"
            formControlName="contactPhone"
          ></app-input-text>
        </div>
      </div>
    </div>

    <!-- Package Tab -->
    <div class="tab-panel" *ngIf="activeTab === 'package'">
      <div class="tab-header">
        <mat-icon>inventory_2</mat-icon>
        <h3>Package Information</h3>
      </div>

      <div class="form-grid">
        <!-- Package Weight -->
        <div class="form-group">
          <app-input-text
            [config]="packageWeightConfig"
            formControlName="packageWeight"
          ></app-input-text>
        </div>

        <!-- Package Dimensions -->
        <div class="form-group">
          <app-input-text
            [config]="packageDimensionsConfig"
            formControlName="packageDimensions"
          ></app-input-text>
        </div>

        <!-- Package Value -->
        <div class="form-group full-width">
          <app-input-text
            [config]="packageValueConfig"
            formControlName="packageValue"
          ></app-input-text>
        </div>

        <!-- Checkboxes -->
        <div class="form-group full-width">
          <div class="checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="requiresSignature" />
              <span>Requires Signature</span>
            </label>

            <label class="checkbox-label">
              <input type="checkbox" formControlName="fragileItem" />
              <span>Fragile Item</span>
            </label>

            <label class="checkbox-label">
              <input type="checkbox" formControlName="hazardousMaterial" />
              <span>Hazardous Material</span>
            </label>

            <label class="checkbox-label">
              <input type="checkbox" formControlName="cashOnDelivery" />
              <span>Cash on Delivery</span>
            </label>

            <label class="checkbox-label">
              <input type="checkbox" formControlName="deliveryInsurance" />
              <span>Delivery Insurance</span>
            </label>

            <label class="checkbox-label">
              <input type="checkbox" formControlName="gpsTracking" />
              <span>GPS Tracking</span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Assignment Tab -->
    <div class="tab-panel" *ngIf="activeTab === 'assignment'">
      <div class="tab-header">
        <mat-icon>engineering</mat-icon>
        <h3>Driver & Vehicle Assignment</h3>
      </div>

      <div class="form-grid">
        <!-- Assigned Driver -->
        <div class="form-group">
          <label class="form-label">Assigned Driver</label>
          <app-input-dropdown
            [options]="driverOptions"
            [config]="driverDropdownConfig"
            (selectionChanged)="onDriverChange($event)"
          ></app-input-dropdown>
        </div>

        <!-- Assigned Vehicle -->
        <div class="form-group">
          <label class="form-label">Assigned Vehicle</label>
          <app-input-dropdown
            [options]="vehicleOptions"
            [config]="vehicleDropdownConfig"
            (selectionChanged)="onVehicleChange($event)"
          ></app-input-dropdown>
        </div>

        <!-- Delivery Route -->
        <div class="form-group full-width">
          <label class="form-label">Delivery Route</label>
          <app-input-dropdown
            [options]="routeOptions"
            [config]="routeDropdownConfig"
            (selectionChanged)="onRouteChange($event)"
          ></app-input-dropdown>
        </div>

        <!-- Notifications -->
        <div class="form-group full-width">
          <div class="checkbox-group">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="smsNotification" />
              <span>SMS Notifications to Customer</span>
            </label>

            <label class="checkbox-label">
              <input type="checkbox" formControlName="emailNotification" />
              <span>Email Notifications to Customer</span>
            </label>
          </div>
        </div>

        <!-- Additional Notes -->
        <div class="form-group full-width">
          <app-input-text
            [config]="additionalNotesConfig"
            formControlName="additionalNotes"
          ></app-input-text>
        </div>
      </div>
    </div>
  </form>
</ng-template>
